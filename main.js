!function(){"use strict";var e={45:function(e,t,s){e.exports=s.p+"4e8e0a1d604782a0dff8.svg"}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.p="",function(){class e{constructor(e){this._popup=e,this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add("popup-box_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup-box_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup-box__close-btn")||e.target.classList.contains("popup-box_opened"))&&this.close()}))}}class t extends e{constructor(e,t,s,n){super(e),this._popupForm=this._popup.querySelector(".popup-box__form"),this._handleFormSubmit=t,this._inputs=this._popupForm.querySelectorAll(".popup-box__input"),this._button=this._popupForm.querySelector(".popup-box__save-btn"),this._buttonText=s,this._loadingButtonText=n}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}close(){this._popupForm.reset(),super.close()}showLoading(){this._button.textContent=this._loadingButtonText}hideLoading(){this._button.textContent=this._buttonText}}var n=s(45);const i=document.querySelector(".popup-box__form_edit"),r=document.querySelector(".popup-box__form_add"),o=document.querySelector(".popup-box__form_change"),a=document.querySelector(".elements__list"),l=document.querySelector(".profile__name"),h=document.querySelector(".profile__role"),_=document.querySelector(".profile__avatar"),c=document.querySelector(".popup-box_type_edit"),u=document.querySelector(".popup-box_type_add"),d=document.querySelector(".popup-box_type_change"),p=document.querySelector(".popup-box_type_open"),m=document.querySelector(".popup-box__input_type_name"),b=document.querySelector(".popup-box__input_type_about"),v=document.querySelector(".profile__edit-btn"),g=document.querySelector(".profile__add-btn"),L=document.querySelector(".profile__avatar-edit"),y=document.querySelector(".popup-box_type_delete");document.querySelector(".header__image").src=n;const f=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}init(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((e=>this._getResponseData(e)))}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((e=>this._getResponseData(e)))}editProfile(e){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)}).then((e=>this._getResponseData(e)))}addCard(e){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)}).then((e=>this._getResponseData(e)))}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then((e=>this._getResponseData(e)))}likeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"}).then((e=>this._getResponseData(e)))}dislikeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"}).then((e=>this._getResponseData(e)))}updateProfilePic(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e["image-link"]})}).then((e=>this._getResponseData(e)))}_getResponseData(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"51cb9d12-6e1a-4c88-9721-b40c0e542029","Content-Type":"application/json"}});let E;f.init().then((e=>{let[t,s]=e;E=s._id,C.renderer(t),S.setUserInfo(s)})).catch(console.log);const S=new class{constructor(e){let{userName:t,userJob:s,avatar:n}=e;this._userName=t,this._userJob=s,this._avatar=n}getUserInfo(){return{userName:this._userName.textContent,userJob:this._userJob.textContent,avatar:this._avatar.src}}setUserInfo(e){this._userName.textContent=e.name,this._userJob.textContent=e.about,this._avatar.src=e.avatar}setAvatar(e){this._avatar.src=e["image-link"]}}({userName:l,userJob:h,avatar:_}),x={},C=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=t}renderer(e){e.forEach((e=>this._renderer(e)))}addItem(e){this._container.prepend(e)}}({renderer:e=>{const t=U(e);C.addItem(t)}},a),k=new class extends e{constructor(e){super(e),this._caption=this._popup.querySelector(".popup-box__text"),this._img=this._popup.querySelector(".popup-box__image")}open(e){let{link:t,name:s}=e;this._caption.textContent=s,this._img.src=t,this._img.alt=s,super.open()}}(p),q=new class extends e{constructor(e,t,s){super(e),this._buttonText=t,this._loadingButtonText=s,this._button=this._popup.querySelector(".popup-box__save-btn")}setAction(e){this._handleSubmit=e}setEventListeners(){this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit()})),super.setEventListeners()}showLoading(){this._button.textContent=this._loadingButtonText}hideLoading(){this._button.textContent=this._buttonText}}(y,"Yes","Loading..."),I=new t(c,(e=>{I.showLoading(),f.editProfile(e).then((e=>{S.setUserInfo(e),I.close()})).catch(console.log).finally((()=>{I.hideLoading()}))}),"Save","Saving..."),w=new t(u,(e=>{w.showLoading(),f.addCard({name:e.title,link:e["image-link"]}).then((e=>{const t=U(e);C.addItem(t),w.close()})).catch(console.log).finally((()=>{w.hideLoading()}))}),"Create","Creating..."),B=new t(d,(e=>{B.showLoading(),f.updateProfilePic(e).then((()=>{S.setAvatar(e),B.close()})).catch(console.log).finally((()=>{B.hideLoading()}))}),"Save","Saving...");function U(e){const t=new class{constructor(e,t,s,n,i,r){var o,a;a=()=>{this._showLikes.textContent=this._likes.length,this.isLiked()?this._likeBtn.classList.add("element__like-btn_active"):this._likeBtn.classList.remove("element__like-btn_active")},(o="_renderLikes")in this?Object.defineProperty(this,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[o]=a,this._name=e.name,this._link=e.link,this._handleCardClick=t,this._handleDeleteButton=s,this._handleLikeButton=n,this._cardSelector=i,this._likes=e.likes,this._id=e._id,this._element=this._getTemplate(),this._showLikes=this._element.querySelector(".element__show-likes"),this._likeBtn=this._element.querySelector(".element__like-btn"),this._cardImage=this._element.querySelector(".element__image"),this._deleteBtn=this._element.querySelector(".element__delete-btn"),this._text=this._element.querySelector(".element__text"),this._userId=r,this._ownerId=e.owner._id}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}_setEventListeners(){this._cardImage.addEventListener("click",this._handleCardClick),this._likeBtn.addEventListener("click",(()=>this._handleLikeButton(this._id))),this._deleteBtn.addEventListener("click",(()=>this._handleDeleteButton(this._id)))}isLiked(){return this._likes.some((e=>e._id===this._userId))}likeCard(e){this._likes=e,this._renderLikes()}removeCard(){this._element.remove(),this._element=null}generateCard(){return this._cardImage.src=this._link,this._cardImage.alt=this._name,this._text.textContent=this._name,this._setEventListeners(),this._ownerId!==this._userId&&(this._deleteBtn.style.display="none"),this._renderLikes(),this._element}}(e,(()=>{k.open(e)}),(e=>{q.open(),q.setAction((()=>{q.showLoading(),f.deleteCard(e).then((()=>{t.removeCard(),q.close()})).catch(console.log).finally((()=>{q.hideLoading()}))}))}),(e=>{t.isLiked()?f.dislikeCard(e).then((e=>{t.likeCard(e.likes)})).catch(console.log):f.likeCard(e).then((e=>{t.likeCard(e.likes)})).catch(console.log)}),"#element-template",E);return t.generateCard()}var T;I.setEventListeners(),w.setEventListeners(),k.setEventListeners(),B.setEventListeners(),q.setEventListeners(),v.addEventListener("click",(function(){I.open();const e=S.getUserInfo();m.value=e.userName,b.value=e.userJob,x[i.getAttribute("name")].resetValidation()})),g.addEventListener("click",(function(){w.open(),x[r.getAttribute("name")].resetValidation()})),L.addEventListener("click",(function(){B.open(),x[o.getAttribute("name")].resetValidation()})),T={inputSelector:".popup-box__input",submitButtonSelector:".popup-box__save-btn",inactiveButtonClass:"popup-box__save-btn_disabled",inputErrorClass:"popup-box__input_type_error",errorClass:"popup-box__error_visible"},Array.from(document.querySelectorAll(".popup-box__form")).forEach((e=>{const t=new class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_showInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._toggleButtonState(),this._checkInputValidity(e)}))}))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}(T,e),s=e.getAttribute("name");x[s]=t,t.enableValidation()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDbkNLLEVBQWF6TCxVQUFVSyxPQUFPVixLQUFLMEwsYUFDbkNJLEVBQWF2SixZQUFjLEdBTTdCMEosb0JBQW9CSixHQUNiQSxFQUFhSyxTQUFTQyxNQUd6Qm5NLEtBQUtnTSxnQkFBZ0JILEdBRnJCN0wsS0FBSzRMLGdCQUFnQkMsR0FVekJPLG1CQUNFLE9BQU9wTSxLQUFLcU0sV0FBV25DLE1BQU0yQixJQUNuQkEsRUFBYUssU0FBU0MsUUFRbENHLHFCQUNNdE0sS0FBS29NLG9CQUNQcE0sS0FBS3VNLGVBQWVsTSxVQUFVQyxJQUFJTixLQUFLd0wsc0JBQ3ZDeEwsS0FBS3VNLGVBQWVDLFVBQVcsSUFFL0J4TSxLQUFLdU0sZUFBZWxNLFVBQVVLLE9BQU9WLEtBQUt3TCxzQkFDMUN4TCxLQUFLdU0sZUFBZUMsVUFBVyxHQVNuQ3ZDLHFCQUNFakssS0FBS3FNLFdBQWFuQixNQUFNQyxLQUN0Qm5MLEtBQUsyTCxhQUFhakssaUJBQWlCMUIsS0FBS3NMLGlCQUUxQ3RMLEtBQUt1TSxlQUFpQnZNLEtBQUsyTCxhQUFhcEssY0FDdEN2QixLQUFLdUwsdUJBRVB2TCxLQUFLc00scUJBQ0x0TSxLQUFLcU0sV0FBV3JLLFNBQVNDLElBQ3ZCQSxFQUFNekIsaUJBQWlCLFNBQVMsS0FDOUJSLEtBQUtzTSxxQkFDTHRNLEtBQUtpTSxvQkFBb0JoSyxTQVEvQjJJLGtCQUNFNUssS0FBS3NNLHFCQUNMdE0sS0FBS3FNLFdBQVdySyxTQUFTNkosSUFDdkI3TCxLQUFLZ00sZ0JBQWdCSCxNQU96QlksbUJBQ0V6TSxLQUFLMkwsYUFBYW5MLGlCQUFpQixVQUFXSSxJQUM1Q0EsRUFBSXdCLG9CQUVOcEMsS0FBS2lLLHVCQzRFK0JRLEVBQVVXLEdBQ3hDc0IsRUFBV3RCLEVBQVlULGFBQWEsUUFDMUM3RCxFQUFlNEYsR0FBWXJCLEVBQzNCQSxFQUFVb0Isc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIi8qKlxyXG4gKiB0aGlzIGNsYXNzIG9wZW5zIGFuZCBjbG9zZXMgdGhlIHBvcHVwIHdpbmRvd1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cC1ib3hfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXAtYm94X29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwLWJveF9fY2xvc2UtYnRuXCIpIHx8XHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cC1ib3hfb3BlbmVkXCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgaXMgYSBjaGlsZCBjbGFzcyBvZiB0aGUgUG9wdXAgY2xhc3NcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXAsIGhhbmRsZUZvcm1TdWJtaXQsIGJ1dHRvblRleHQsIGxvYWRpbmdCdXR0b25UZXh0KSB7XHJcbiAgICBzdXBlcihwb3B1cCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWJveF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRzID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXAtYm94X19pbnB1dFwiKTtcclxuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWJveF9fc2F2ZS1idG5cIik7XHJcbiAgICB0aGlzLl9idXR0b25UZXh0ID0gYnV0dG9uVGV4dDtcclxuICAgIHRoaXMuX2xvYWRpbmdCdXR0b25UZXh0ID0gbG9hZGluZ0J1dHRvblRleHQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIG1ldGhvZCBjb2xsZWN0cyBkYXRhIGZyb20gYWxsIHRoZSBpbnB1dCBmaWVsZHMgYW5kIHJldHVybnMgdGhhdCBkYXRhIGFzIGFuIG9iamVjdFxyXG4gICAqIEByZXR1cm5zIHRoZSBkYXRhIG9mIGFsbCBpbnB1dCBmaWVsZHNcclxuICAgKi9cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIHNob3dMb2FkaW5nKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fbG9hZGluZ0J1dHRvblRleHRcclxuICB9XHJcbiAgXHJcbiAgaGlkZUxvYWRpbmcoKSB7XHJcbiAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0XHJcbiAgfSBcclxufVxyXG4iLCIvKipcclxuICogQSBGb3JtVmFsaWRhdG9yIGNsYXNzIHdoaWNoIHNldHMgc2V0dGlnbnMgZm9yIHZhbGlkYXRpbmcgZm9ybSBmaWVsZHNcclxuICovXHJcbmNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuXHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdGhpcyBmdW5jdGlvbiBzaG93IHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICogQHBhcmFtIHsqfSBpbnB1dEVsZW1lbnRcclxuICAgKi9cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIGZ1bmN0aW9uIGhpZGUgdGhlIGVycm9yIG1lc3NhZ2VcclxuICAgKiBAcGFyYW0geyp9IGlucHV0RWxlbWVudFxyXG4gICAqL1xyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIHRoaXMgZnVuY3Rpb24gY2hlY2sgdGhlIHZhbGlkYXRpb24gb2YgYW4gaW5wdXQgZmllbGQgYW5kIHNob3cvaGlkZSB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAqIEBwYXJhbSB7Kn0gaW5wdXRFbGVtZW50XHJcbiAgICovXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdGhpcyBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbGlkaXR5IG9mIGFuIGlucHV0IGZpZWxkXHJcbiAgICogQHJldHVybnMgd2hldGhlciB0aGUgaW5wdXQgaXMgdmFsaWQgb3Igbm90XHJcbiAgICovXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIGZ1bmN0aW9uIGNoZWNrcyBpZiBhbiBpbnB1dCBmaWVsZCBpcyB2YWxpZFxyXG4gICAqIGluIGNhc2Ugb2YgdHJ1ZSB0aGUgYnV0dG9uIHR1cm4gdG8gYmUgaW5hY3RpdmUgb3RoZXJ3aXNlIGl0IHR1cm5zIHRvIGJlIGFjdGl2ZVxyXG4gICAqL1xyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIGZ1bmN0aW9uIGdldHMgdGhlIHNldHRpbmdzIG9iamVjdCBhbmQgYSBmb3JtXHJcbiAgICogYW5kIHNldCBhbiBldmVudCBsaXN0ZW5lcnMgdG8gYWxsIGlucHV0cyBpbnNpZGUgdGhlIGZvcm1cclxuICAgKiB0b2dnbGluZyB0aGUgYnV0dG9uKGFjdGl2ZSBhbmQgaW5hY3RpdmUpIGFuZCBjaGVjayB2YWxpZGF0aW9uXHJcbiAgICovXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmVzZXQgYWxsIHZhbGlkYXRpb24gc3RhdGVcclxuICAgKi9cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIGZ1bmN0aW9uIHZhbGlkYXRlIHRoZSBmb3JtcyBpbiBvdXIgcGFnZVxyXG4gICAqL1xyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCIvLyBpbXBvcnRzXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvblwiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1cIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaVwiO1xuXG4vL2xvZ29cbmltcG9ydCBsb2dvU3JjIGZyb20gXCIuLi9pbWFnZXMvSGVhZGVyTG9nby5zdmdcIjtcblxuLy8gZGVjbGFyaW5nIHZhcmlhYmxlc1xuY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWJveF9fZm9ybV9lZGl0XCIpO1xuY29uc3QgYWRkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtYm94X19mb3JtX2FkZFwiKTtcbmNvbnN0IGNoYW5nZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWJveF9fZm9ybV9jaGFuZ2VcIik7XG5jb25zdCBlbGVtZW50c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saXN0XCIpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3JvbGVcIik7XG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XG5jb25zdCBlZGl0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWJveF90eXBlX2VkaXRcIik7XG5jb25zdCBhZGRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtYm94X3R5cGVfYWRkXCIpO1xuY29uc3QgY2hhbmdlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWJveF90eXBlX2NoYW5nZVwiKTtcbmNvbnN0IGVubGFyZ2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtYm94X3R5cGVfb3BlblwiKTtcbmNvbnN0IHVzZXJJbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWJveF9faW5wdXRfdHlwZV9uYW1lXCIpO1xuY29uc3QgdXNlcklucHV0QWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWJveF9faW5wdXRfdHlwZV9hYm91dFwiKTtcbmNvbnN0IG9wZW5FZGl0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnRuXCIpO1xuY29uc3Qgb3BlbkFkZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnRuXCIpO1xuY29uc3Qgb3BlblByb2ZpbGVBdmF0YXJFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItZWRpdFwiKTtcbmNvbnN0IGRlbGV0ZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1ib3hfdHlwZV9kZWxldGVcIik7XG5jb25zdCBsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2ltYWdlXCIpO1xuXG4vLyBzZXQgdGhlIGxvZ28gYW5kIGltYWdlIG9mIHRoZSBwYWdlXG5sb2dvLnNyYyA9IGxvZ29TcmM7XG5cbi8vIGNyZWF0aW5nIGFuIEFwaSB2YXJpYWJsZSBmb3IgY29tbXVuaWNhdGUgd2l0aCB0aGUgc2VydmVyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjUxY2I5ZDEyLTZlMWEtNGM4OC05NzIxLWI0MGMwZTU0MjAyOVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vIGNyZWF0ZSBhIGxldCB2YXJpYWJsZSB0b1xubGV0IHVzZXJJZDtcblxuYXBpXG4gIC5pbml0KClcbiAgLnRoZW4oKFtjYXJkRGF0YSwgdXNlckRhdGFdKSA9PiB7XG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xuICAgIGNhcmRMaXN0LnJlbmRlcmVyKGNhcmREYXRhKTtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmxvZyk7XG5cbi8vIGdldCB0aGUgdXNlciBpbmZvXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHVzZXJOYW1lOiBwcm9maWxlTmFtZSxcbiAgdXNlckpvYjogcHJvZmlsZUFib3V0LFxuICBhdmF0YXI6IHByb2ZpbGVBdmF0YXIsXG59KTtcblxuLy8gYXJyYXkgb2YgZm9ybSB2YWxpZGF0b3JzXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuXG4vL2NyZWF0aW5nIGFsbCB0aGUgY2FyZHMgaW50byB0aGUgcGFnZVxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGRhdGEpO1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgfSxcbiAgfSxcbiAgZWxlbWVudHNMaXN0XG4pO1xuXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKGVubGFyZ2VQb3B1cCk7XG5cbmNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXG4gIGRlbGV0ZVBvcHVwLFxuICBcIlllc1wiLFxuICBcIkxvYWRpbmcuLi5cIlxuKTtcblxuY29uc3QgdXNlckluZm9Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBlZGl0UG9wdXAsXG4gIChkYXRhKSA9PiB7XG4gICAgdXNlckluZm9Qb3B1cC5zaG93TG9hZGluZygpO1xuICAgIGFwaVxuICAgICAgLmVkaXRQcm9maWxlKGRhdGEpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgICAgIHVzZXJJbmZvUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5sb2cpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvUG9wdXAuaGlkZUxvYWRpbmcoKTtcbiAgICAgIH0pO1xuICB9LFxuICBcIlNhdmVcIixcbiAgXCJTYXZpbmcuLi5cIlxuKTtcblxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIGFkZFBvcHVwLFxuICAoZGF0YSkgPT4ge1xuICAgIG5ld0NhcmRQb3B1cC5zaG93TG9hZGluZygpO1xuICAgIGFwaVxuICAgICAgLmFkZENhcmQoeyBuYW1lOiBkYXRhLnRpdGxlLCBsaW5rOiBkYXRhW1wiaW1hZ2UtbGlua1wiXSB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQocmVzKTtcbiAgICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgICAgIG5ld0NhcmRQb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmxvZylcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgbmV3Q2FyZFBvcHVwLmhpZGVMb2FkaW5nKCk7XG4gICAgICB9KTtcbiAgfSxcbiAgXCJDcmVhdGVcIixcbiAgXCJDcmVhdGluZy4uLlwiXG4pO1xuXG5jb25zdCBjaGFuZ2VQcm9maWxlUGljUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgY2hhbmdlUG9wdXAsXG4gIChkYXRhKSA9PiB7XG4gICAgY2hhbmdlUHJvZmlsZVBpY1BvcHVwLnNob3dMb2FkaW5nKCk7XG4gICAgYXBpXG4gICAgICAudXBkYXRlUHJvZmlsZVBpYyhkYXRhKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRBdmF0YXIoZGF0YSk7XG4gICAgICAgIGNoYW5nZVByb2ZpbGVQaWNQb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmxvZylcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgY2hhbmdlUHJvZmlsZVBpY1BvcHVwLmhpZGVMb2FkaW5nKCk7XG4gICAgICB9KTtcbiAgfSxcbiAgXCJTYXZlXCIsXG4gIFwiU2F2aW5nLi4uXCJcbik7XG5cbi8vIHNldCB0aGUgZXZlbnQgbGlzdGVuZXJzXG51c2VySW5mb1BvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5uZXdDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmNoYW5nZVByb2ZpbGVQaWNQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZGVsZXRlQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8qKlxuICogZnVuY3Rpb24gdGhhdCBoYW5kbGUgdGhlIGVkaXQgYnV0dG9uIG9uY2UgaXQgcHJlc3NlZFxuICovXG5mdW5jdGlvbiBoYW5kbGVFZGl0QnV0dG9uKCkge1xuICB1c2VySW5mb1BvcHVwLm9wZW4oKTtcbiAgY29uc3QgaW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHVzZXJJbnB1dE5hbWUudmFsdWUgPSBpbmZvLnVzZXJOYW1lO1xuICB1c2VySW5wdXRBYm91dC52YWx1ZSA9IGluZm8udXNlckpvYjtcbiAgZm9ybVZhbGlkYXRvcnNbZWRpdEZvcm0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0ucmVzZXRWYWxpZGF0aW9uKCk7XG59XG5cbi8qKlxuICogZnVuY3Rpb24gdGhhdCBoYW5kbGUgdGhlIGFkZCBidXR0b24gb25jZSBpdCBwcmVzc2VkXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUFkZEJ1dHRvbigpIHtcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbYWRkRm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5yZXNldFZhbGlkYXRpb24oKTtcbn1cblxuLyoqXG4gKiBmdW5jdGlvbiB0aGF0IGhhbmRsZSB0aGUgY2hhbmdlIGF2YXRhciBwaWMgb25jZSBpdCBwcmVzc2VkXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckVkaXRCdXR0b24oKSB7XG4gIGNoYW5nZVByb2ZpbGVQaWNQb3B1cC5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzW2NoYW5nZUZvcm0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0ucmVzZXRWYWxpZGF0aW9uKCk7XG59XG5cbi8vIGV2ZW50IGxpc3RlbmVyc1xub3BlbkVkaXRQb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRWRpdEJ1dHRvbik7XG5vcGVuQWRkUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUFkZEJ1dHRvbik7XG5vcGVuUHJvZmlsZUF2YXRhckVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUF2YXRhckVkaXRCdXR0b24pO1xuXG4vLyB2YWxpZGF0aW9uc1xuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChzZXR0aW5ncykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cC1ib3hfX2Zvcm1cIikpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCk7XG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xuXG4vLyBmdW5jdGlvbiB0aGF0IGNyZWF0ZSBhIGNhcmRcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgZGF0YSxcbiAgICAoKSA9PiB7XG4gICAgICBpbWFnZVBvcHVwLm9wZW4oZGF0YSk7XG4gICAgfSxcbiAgICAoaWQpID0+IHtcbiAgICAgIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKCk7XG4gICAgICBkZWxldGVDYXJkUG9wdXAuc2V0QWN0aW9uKCgpID0+IHtcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLnNob3dMb2FkaW5nKCk7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5kZWxldGVDYXJkKGlkKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpXG4gICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIChpZCkgPT4ge1xuICAgICAgaWYgKGNhcmQuaXNMaWtlZCgpKSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5kaXNsaWtlQ2FyZChpZClcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmxpa2VDYXJkKGlkKVxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGNhcmQubGlrZUNhcmQocmVzLmxpa2VzKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBcIiNlbGVtZW50LXRlbXBsYXRlXCIsXG4gICAgdXNlcklkXG4gICk7XG5cbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG4iLCIvKipcclxuICogVGhpcyBjbGFzcyByZXNwb25zaWJsZSB0byBjb21tdW5pY2F0ZSB3aXRoIHRoZSBzZXJ2ZXJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJJbmZvKCldKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHRoaXMgbWV0aG9kIGZldGNoIHRoZSB1c2VyIGluZm8gZnJvbSB0aGUgc2VydmVyXHJcbiAgICoge1xyXG4gICAgICAgIFwibmFtZVwiOiBcIkphY3F1ZXMgQ291c3RlYXVcIixcclxuICAgICAgICBcImFib3V0XCI6IFwiU2FpbG9yLCByZXNlYXJjaGVyXCIsXHJcbiAgICAgICAgXCJhdmF0YXJcIjogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2F2YS5qcGdcIixcclxuICAgICAgICBcIl9pZFwiOiBcImUyMDUzN2VkMTEyMzdmODZiYmIyMGNjYlwiLFxyXG4gICAgICAgIFwiY29ob3J0XCI6IFwiZ3JvdXAtNDJcIlxyXG4gICAgICB9XHJcbiAgICogQHJldHVybnMgdXNlciBpbmZvcm1hdGlvbiBmcm9tIHRoZSBzZXJ2ZXJcclxuICAgKi9cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdGhpcyBtZXRob2QgZmV0Y2ggdGhlIGluaXRpYWwgY2FyZHMgZnJvbSB0aGUgc2VydmVyXHJcbiAgICogW1xyXG4gICAgICB7XHJcbiAgICAgICAgXCJsaWtlc1wiOiBbXSxcclxuICAgICAgICBcIl9pZFwiOiBcIjVkMWYwNjExZDMyMWViNGJkY2Q3MDdkZFwiLFxyXG4gICAgICAgIFwibmFtZVwiOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgICAgIFwibGlua1wiOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3lvc2VtaXRlLmpwZ1wiLFxyXG4gICAgICAgIFwib3duZXJcIjoge1xyXG4gICAgICAgICAgXCJuYW1lXCI6IFwiSmFjcXVlcyBDb3VzdGVhdVwiLFxyXG4gICAgICAgICAgXCJhYm91dFwiOiBcIlNhaWxvciwgcmVzZWFyY2hlclwiLFxyXG4gICAgICAgICAgXCJhdmF0YXJcIjogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9hdmF0YXIuanBnXCIsXHJcbiAgICAgICAgICBcIl9pZFwiOiBcImVmNWY3NDIzZjdmNWUyMmJlZjRhZDYwN1wiLFxyXG4gICAgICAgICAgXCJjb2hvcnRcIjogXCJncm91cC00MlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNyZWF0ZWRBdFwiOiBcIjIwMTktMDctMDVUMDg6MTA6NTcuNzQxWlwiXHJcbiAgICAgIH1cclxuICAgIF1cclxuICAgKiBAcmV0dXJucyB0aGUgaW5pdGlhbCBjYXJkcyBmcm9tIHRoZSBzZXJ2ZXJcclxuICAgKi9cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHRoaXMgbWV0aG9kIHRha2VzIGRhdGEgZnJvbSB0aGUgdXNlciBhbmQgbW9kaWZ5IHRoZSBleGlzdGluZyBpbmZvcm1hdGlvbiBvbiB0aGUgc2VydmVyXHJcbiAgICogQHBhcmFtIHsqfSBkYXRhXHJcbiAgICogQHJldHVybnMgYSBtb2RpZmllZCBwcm9maWxlIGRhdGEgaW4gdGhlIGJvZHkgb2YgdGhlIHNlcnZlciByZXNwb25zZVxyXG4gICAqL1xyXG4gIGVkaXRQcm9maWxlKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIG1ldGhvZCBzZW5kIGEgUE9TVCByZXF1ZXN0IHRvIGFkZCBhIG5ldyBjYXJkIHRvIHRoZSBzZXJ2ZXJcclxuICAgKiBAcGFyYW0geyp9IGRhdGFcclxuICAgKiBAcmV0dXJucyBhIHJlc3BvbnNlIHdpdGggdGhlIG9iamVjdCBvZiB0aGUgbmV3IGNhcmQgZnJvbSB0aGUgc2VydmVyXHJcbiAgICovXHJcbiAgYWRkQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIG1ldGhvZCB0YWtlIGEgY2FyZCBpZCBhbmQgZGVsZXRlIGl0IGZyb20gdGhlIHNlcnZlclxyXG4gICAqIEBwYXJhbSB7Kn0gaWRcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIG1ldGhvZCBzZW5kIGEgUFVUIHJlcXVlc3QgdG8gbGlrZSBhIGNhcmRcclxuICAgKiBAcGFyYW0geyp9IGlkXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cclxuICBsaWtlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHRoaXMgbWV0aG9kIHNlbmQgYSBERUxFVEUgcmVxdWVzdCB0byByZW1vdmUgYSBsaWtlIGZyb20gYSBjYXJkXHJcbiAgICogQHBhcmFtIHsqfSBpZFxyXG4gICAqIEByZXR1cm5zXHJcbiAgICovXHJcbiAgZGlzbGlrZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIG1ldGhvZCBzZW5kIGEgUEFUQ0ggcmVxdWVzdCB0byBjaGFnbmUgdGhlIHByb2ZpbGUgcGljdHVyZVxyXG4gICAqIEBwYXJhbSB7Kn0gYXZhdGFyXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cclxuICB1cGRhdGVQcm9maWxlUGljKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBhdmF0YXJbXCJpbWFnZS1saW5rXCJdIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgfVxyXG5cclxuICBfZ2V0UmVzcG9uc2VEYXRhKHJlcykge1xyXG4gICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgb24gdGhlIHBhZ2VcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lLCB1c2VySm9iLCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWUgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2IgPSB1c2VySm9iO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB1c2VyTmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIHVzZXJKb2I6IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyKGF2YXRhcikge1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcltcImltYWdlLWxpbmtcIl07XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlbmRlciBhIGxpc3Qgb2YgZWxlbWVudHMgb24gYSBwYWdlXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAvLyByZW5kZXJlciByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYW5kIHJlbmRlcmluZyBkYXRhIG9uIGEgcGFnZVxyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG5cclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIHJlbmRlcmVyKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGNhcmQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGlzIGEgY2hpbGQgY2xhc3Mgb2YgUG9wdXAgY2xhc3NcclxuICogdGhpcyBjbGFzcyBoYXMgdG8gY2hhbmdlIHRoZSBwYXJlbnQgb3BlbigpIG1ldGhvZCBvZiB0aGUgUG9wdXAgY2xhc3NcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XHJcbiAgICBzdXBlcihwb3B1cCk7XHJcbiAgICB0aGlzLl9jYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1ib3hfX3RleHRcIik7XHJcbiAgICB0aGlzLl9pbWcgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWJveF9faW1hZ2VcIik7XHJcbiAgfVxyXG4gIG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcclxuICAgIHRoaXMuX2NhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5faW1nLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9pbWcuYWx0ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTsgLy8gY2FsbCB0aGUgcGFyZW50IG9wZW4oKSBtZXRob2RcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBoYW5kbGUgdGhlIGRlbGV0ZSBjYXJkIGZvcm1cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCwgYnV0dG9uVGV4dCwgbG9hZGluZ0J1dHRvblRleHQpIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2J1dHRvblRleHQgPSBidXR0b25UZXh0O1xyXG4gICAgdGhpcy5fbG9hZGluZ0J1dHRvblRleHQgPSBsb2FkaW5nQnV0dG9uVGV4dDtcclxuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtYm94X19zYXZlLWJ0blwiKTtcclxuICB9XHJcblxyXG4gIHNldEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNob3dMb2FkaW5nKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fbG9hZGluZ0J1dHRvblRleHQ7XHJcbiAgfVxyXG5cclxuICBoaWRlTG9hZGluZygpIHtcclxuICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2J1dHRvblRleHQ7XHJcbiAgfVxyXG59XHJcbiIsIi8qKipcclxuICogQSBDYXJkIGNsYXNzIHRoYXQgY3JlYXRlcyBhIGNhcmQgd2l0aCB0ZXh0IGFuZCBhbiBpbWFnZSBsaW5rXHJcbiAqL1xyXG5jbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGRhdGEsXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVCdXR0b24sXHJcbiAgICBoYW5kbGVMaWtlQnV0dG9uLFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgdXNlcklkXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUJ1dHRvbjtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2hvd0xpa2VzID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3Nob3ctbGlrZXNcIik7XHJcbiAgICB0aGlzLl9saWtlQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtYnRuXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2RlbGV0ZS1idG5cIik7XHJcbiAgICB0aGlzLl90ZXh0ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RleHRcIik7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBidWlsZCBhIGNhcmQgdGVtcGxhdGVcclxuICAgKiBAcmV0dXJucyBhIGNhcmQgdGVtcGxhdGUgdGhhdCByZXByZXNlbnQgYSBjYXJkIG9uIHRoZSB3ZWJwYWdlXHJcbiAgICovXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG1ldGhvZCB0aGF0IHNldCBldmVudCBsaXN0ZW5lcnMgZm9yIGVhY2ggaGFuZGxlclxyXG4gICAqL1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2FyZENsaWNrKTtcclxuICAgIHRoaXMuX2xpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcy5faWQpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcy5faWQpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdGhpcyBtZXRob2QgY2hlY2tzIGlmIHRoZSBjYXJkIGlzIGxpa2VkIGJ5IHRoZSB1c2VyXHJcbiAgICogQHJldHVybnMgd2hldGhlciB0aGUgY2FyZCBpcyBsaWtlZCBieSB0aGUgdXNlciBvciBub3RcclxuICAgKi9cclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKHVzZXIpID0+IHVzZXIuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdGhpcyBtZXRob2QgcHJlc2VudCB0aGUgbnVtYmVyIG9mIGxpa2VzIG9mIGEgY2FyZCBhbmQgaGFuZGxlIHRoZSBsaWtlIGJ1dHRvblxyXG4gICAqL1xyXG4gIGxpa2VDYXJkKGxpa2VzKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRoYXQgaGFuZGxlIHRoZSBkZWxldGUgYnV0dG9uIG9uY2UgaXQgcHJlc3NlZFxyXG4gICAqL1xyXG4gIHJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0aGlzIG1ldGhvZCBjcmVhdGUgYSBuZXcgY2FyZCB0byB0aGUgd2VicGFnZSBwb3B1bGF0ZWQgd2l0aCBkYXRhXHJcbiAgICogQHJldHVybnMgYSBuZXcgY2FyZFxyXG4gICAqL1xyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl90ZXh0LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICB0aGlzLl9kZWxldGVCdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfcmVuZGVyTGlrZXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9zaG93TGlrZXMudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZS1idG5fYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9fbGlrZS1idG5fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsIi8vIHNldHRpbmdzIGZvciB2YWxpZGF0aW9uXHJcbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cC1ib3hfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwLWJveF9fc2F2ZS1idG5cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwLWJveF9fc2F2ZS1idG5fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXAtYm94X19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cC1ib3hfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicCIsIlBvcHVwIiwiY29uc3RydWN0b3IiLCJwb3B1cCIsInRoaXMiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsYXNzTGlzdCIsImFkZCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsImJ1dHRvblRleHQiLCJsb2FkaW5nQnV0dG9uVGV4dCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvbiIsIl9idXR0b25UZXh0IiwiX2xvYWRpbmdCdXR0b25UZXh0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJmb3JFYWNoIiwiaW5wdXQiLCJuYW1lIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0Iiwic2hvd0xvYWRpbmciLCJ0ZXh0Q29udGVudCIsImhpZGVMb2FkaW5nIiwiZWRpdEZvcm0iLCJhZGRGb3JtIiwiY2hhbmdlRm9ybSIsImVsZW1lbnRzTGlzdCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUFib3V0IiwicHJvZmlsZUF2YXRhciIsImVkaXRQb3B1cCIsImFkZFBvcHVwIiwiY2hhbmdlUG9wdXAiLCJlbmxhcmdlUG9wdXAiLCJ1c2VySW5wdXROYW1lIiwidXNlcklucHV0QWJvdXQiLCJvcGVuRWRpdFBvcHVwIiwib3BlbkFkZFBvcHVwIiwib3BlblByb2ZpbGVBdmF0YXJFZGl0IiwiZGVsZXRlUG9wdXAiLCJzcmMiLCJsb2dvU3JjIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiaW5pdCIsIlByb21pc2UiLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsInJlcyIsIl9nZXRSZXNwb25zZURhdGEiLCJlZGl0UHJvZmlsZSIsImRhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZENhcmQiLCJkZWxldGVDYXJkIiwiaWQiLCJsaWtlQ2FyZCIsImRpc2xpa2VDYXJkIiwidXBkYXRlUHJvZmlsZVBpYyIsImF2YXRhciIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsImF1dGhvcml6YXRpb24iLCJ1c2VySWQiLCJjYXJkRGF0YSIsInVzZXJEYXRhIiwiX2lkIiwiY2FyZExpc3QiLCJyZW5kZXJlciIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsIl9hdmF0YXIiLCJhYm91dCIsInNldEF2YXRhciIsImZvcm1WYWxpZGF0b3JzIiwiY29udGFpbmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJjYXJkIiwicHJlcGVuZCIsImNhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImltYWdlUG9wdXAiLCJfY2FwdGlvbiIsIl9pbWciLCJsaW5rIiwiYWx0IiwiZGVsZXRlQ2FyZFBvcHVwIiwic2V0QWN0aW9uIiwiYWN0aW9uIiwiX2hhbmRsZVN1Ym1pdCIsInVzZXJJbmZvUG9wdXAiLCJmaW5hbGx5IiwibmV3Q2FyZFBvcHVwIiwidGl0bGUiLCJjaGFuZ2VQcm9maWxlUGljUG9wdXAiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b24iLCJoYW5kbGVMaWtlQnV0dG9uIiwiY2FyZFNlbGVjdG9yIiwiX3Nob3dMaWtlcyIsIl9saWtlcyIsImxlbmd0aCIsImlzTGlrZWQiLCJfbGlrZUJ0biIsIl9uYW1lIiwiX2xpbmsiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2NhcmRTZWxlY3RvciIsImxpa2VzIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltYWdlIiwiX2RlbGV0ZUJ0biIsIl90ZXh0IiwiX3VzZXJJZCIsIl9vd25lcklkIiwib3duZXIiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic29tZSIsInVzZXIiLCJfcmVuZGVyTGlrZXMiLCJyZW1vdmVDYXJkIiwiZ2VuZXJhdGVDYXJkIiwic3R5bGUiLCJkaXNwbGF5Iiwic2V0dGluZ3MiLCJpbmZvIiwiZ2V0QXR0cmlidXRlIiwicmVzZXRWYWxpZGF0aW9uIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJBcnJheSIsImZyb20iLCJmb3JtRWxlbWVudCIsInZhbGlkYXRvciIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dExpc3QiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfYnV0dG9uRWxlbWVudCIsImRpc2FibGVkIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1OYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==